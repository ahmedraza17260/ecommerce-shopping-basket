(this["webpackJsonpecommerce-shopping-basket-without-redux"]=this["webpackJsonpecommerce-shopping-basket-without-redux"]||[]).push([[0],{15:function(e,t,r){e.exports=r(28)},20:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(8),o=r.n(c),l=(r(20),r(1)),i=r(2),s=r(3),u=r(4),m=r(6),p=function(e){return"$"+Number(e.toFixed(1)).toLocaleString()+" "},d=r(5),h=function(e,t){return function(r){var a=e.slice(),n=!1;a.forEach((function(e){e.id===t.id&&(e.count+=1,n=!0)})),n||a.push(Object(d.a)({},t,{count:1})),localStorage.setItem("cartItems",JSON.stringify(a)),r({type:"ADD_TO_CART",payload:{cartItems:a}})}},f=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this,t=this.props.products.map((function(t){return n.a.createElement("div",{className:"col-md-4",key:t.id},n.a.createElement("div",{className:"bg text-center"},n.a.createElement("a",{href:"#".concat(t.id),onClick:function(r){return e.props.addToCart(e.props.cartItems,t)}},n.a.createElement("img",{src:"products/".concat(t.sku,"_2.jpg"),alt:t.title}),n.a.createElement("p",{style:{color:"black"}},t.title)),n.a.createElement("b",null,p(t.price)),n.a.createElement("button",{className:"btn1 btn-primary",onClick:function(r){return e.props.handleAddToCart(r,t)}},"Add to cart")))}));return n.a.createElement("div",{className:"row"},t)}}]),r}(a.Component),E=Object(m.b)((function(e){return{products:e.products.filteredItems,cartItems:e.cart.items}}),{fetchProducts:function(){return function(e){fetch("http://localhost:8000/products").then((function(e){return e.json()})).catch((function(e){return fetch("db.json").then((function(e){return e.json()})).then((function(e){return e.products}))})).then((function(t){e({type:"FETCH_PRODUCTS",payload:t})}))}},addToCart:h})(f),b=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},"".concat(this.props.filteredProducts.length," products found.")),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("label",null,"Order by",n.a.createElement("select",{className:"form-control",value:this.props.sort,onChange:function(t){e.props.sortProducts(e.props.filteredProducts,t.target.value)}},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"lowestprice"},"Lowest to highest"),n.a.createElement("option",{value:"highestprice"},"Highest to lowest")))),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("label",null," ","Filter Size",n.a.createElement("select",{className:"form-control",value:this.props.size,onChange:function(t){e.props.filterProducts(e.props.products,t.target.value)}},n.a.createElement("option",{value:""},"ALL"),n.a.createElement("option",{value:"x"},"XS"),n.a.createElement("option",{value:"s"},"S"),n.a.createElement("option",{value:"m"},"M"),n.a.createElement("option",{value:"l"},"L"),n.a.createElement("option",{value:"xl"},"XL"),n.a.createElement("option",{value:"xxl"},"XXL")))))}}]),r}(a.Component),v=Object(m.b)((function(e){return{products:e.products.items,filteredProducts:e.products.filteredItems,size:e.products.size,sort:e.products.sort}}),{filterProducts:function(e,t){return function(r){r({type:"FILTER_PRODUCTS_BY_SIZE",payload:{size:t,items:""===t?e:e.filter((function(e){return e.availableSizes.indexOf(t.toUpperCase())>=0}))}})}},sortProducts:function(e,t){return function(r){var a=e.slice();""!==t?a.sort((function(e,r){return"lowestprice"===t?e.price>r.price?1:-1:e.price<r.price?1:-1})):a.sort((function(e,t){return e.id>t.id?1:-1})),r({type:"ORDER_PRODUCTS_BY_PRICE",payload:{sort:t,items:a}})}}})(b),O=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.props.cartItems;return n.a.createElement("div",{className:"alert bg"},0===t.length?"Basket is empty":n.a.createElement("div",{style:{textAlign:"center",fontWeight:"bolder"}},"You have ",t.length," items in the basket. ",n.a.createElement("hr",null)),t.length>0&&n.a.createElement("div",null,n.a.createElement("ul",{style:{marginLeft:-25}},t.map((function(t){return n.a.createElement("li",{key:t.id},n.a.createElement("b",null,t.title," ",n.a.createElement("br",null)," Price: ",t.price," "),"  ",n.a.createElement("br",null),"Quantity: ",t.count," ",n.a.createElement("br",null)," Item Price: ",t.price*t.count,n.a.createElement("button",{style:{float:"right"},className:"btn1 btn-danger btn-xs",onClick:function(r){return e.props.removeFromCart(e.props.cartItems,t)}},"X"),n.a.createElement("br",null),t.count," X ",p(t.price))}))),n.a.createElement("b",{style:{fontSize:"x-large",fontWeight:"bolder",textAlign:"center"}},"Sum:"," ",p(t.reduce((function(e,t){return e+t.price*t.count}),0))),n.a.createElement("button",{onClick:function(){return alert("Todo: Implement checkout page.")},className:"btn1 btn-primary"},"CheckOut")))}}]),r}(a.Component),y=Object(m.b)((function(e){return{cartItems:e.cart.items}}),{addToCart:h,removeFromCart:function(e,t){return function(r){var a=e.slice().filter((function(e){return e.id!==t.id}));localStorage.setItem("cartItems",JSON.stringify(a)),r({type:"REMOVE_FROM_CART",payload:{cartItems:a}})}}})(O),g=r(7),C=r(14),j={items:[],filteredItems:[],size:"",sort:""},I=Object(g.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return Object(d.a)({},e,{items:t.payload,filteredItems:t.payload});case"FILTER_PRODUCTS_BY_SIZE":return Object(d.a)({},e,{filteredItems:t.payload.items,size:t.payload.size});case"ORDER_PRODUCTS_BY_PRICE":return Object(d.a)({},e,{filteredItems:t.payload.items,sort:t.payload.sort});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":case"REMOVE_FROM_CART":return Object(d.a)({},e,{items:t.payload.cartItems});default:return e}}}),_={cart:{items:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]}},k=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.d,S=Object(g.e)(I,_,k(Object(g.a)(C.a))),R=(r(27),function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h4",null,"IMPORTANT LINKS"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://github.com/ahmedraza17260/shopping-basket-with-redux"},"Source code"," "))))}}]),r}(a.Component)),N=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return n.a.createElement(m.a,{store:S},n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,"E-commerce Shopping Cart Application"),n.a.createElement("hr",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-9"},n.a.createElement(v,null),n.a.createElement("hr",null),n.a.createElement(E,null)),n.a.createElement("div",{className:"col-md-3"},n.a.createElement(y,null),n.a.createElement(R,null)))),n.a.createElement("div",{className:"copyRight"},n.a.createElement("h4",{style:{color:"black"}}," Powered by Ahmed Raza "),n.a.createElement("a",{style:{color:"black"},href:"https://github.com/ahmedraza17260",rel:"noopener noreferrer",target:"_blank"}," ",n.a.createElement("h3",{style:{color:"black"}}," Copyright \xa9 2020 Ahmed Raza ")," "),n.a.createElement("h3",{style:{color:"black"}}," All Right Reserved ")))}}]),r}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.097ce901.chunk.js.map